(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{201:function(e,a,t){e.exports=t(371)},208:function(e,a,t){},218:function(e,a,t){},337:function(e,a,t){},354:function(e,a,t){},355:function(e,a,t){},356:function(e,a,t){},357:function(e,a,t){},370:function(e,a,t){},371:function(e,a,t){"use strict";t.r(a);t(202),t(203);var n=t(0),r=t.n(n),l=t(44),c=t.n(l),o=t(379),s=t(21),i=t(15);t(208);var m=()=>r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper light-blue darken-4"},r.a.createElement(s.b,{to:"/"},r.a.createElement("div",{className:"name",style:{cursor:"pointer"}},"Facility Booking"))))),u=t(385),d=t(57),p=t.n(d);t(213),t(215);p.a.initializeApp({apiKey:"AIzaSyBABKTeRJvjNobw2HYiPpnbn5zfvA4Tl9k",authDomain:"online-reservation-portal.firebaseapp.com",databaseURL:"https://online-reservation-portal.firebaseio.com",projectId:"online-reservation-portal",storageBucket:"online-reservation-portal.appspot.com",messagingSenderId:"883504950560",appId:"1:883504950560:web:111fa770864f1da58a7b45",measurementId:"G-LZBX5LY3K4"});const E=async(e,a)=>{if(!e)return;const t=h.doc("users/".concat(e.uid));if(!(await t.get()).exists){const{displayName:r,email:l}=e,c=new Date;try{await t.set({displayName:r,email:l,createdAt:c,...a})}catch(n){console.log("error creating user",n.message)}}return t},v=p.a.auth(),h=p.a.firestore(),b=new p.a.auth.GoogleAuthProvider;b.setCustomParameters({prompt:"select_account"});p.a,t(218);var g=()=>{const[e,a]=Object(n.useState)(null);let t=null;return Object(n.useEffect)(()=>{t=v.onAuthStateChanged(async e=>{e&&(await E(e)).onSnapshot(e=>{a({id:e.id,...e.data()})}),a(e)})},[]),Object(n.useEffect)(()=>()=>t(),[]),console.log(e),r.a.createElement("div",null,r.a.createElement("div",{className:"text"},"Facility Booking is an online reservation portal for customers who wants different facilities and the providers who are looking for customers.",r.a.createElement("br",null),r.a.createElement("br",null),"Customers can fill up the form and mention that which type of facility they are looking for as we provide facilites.",r.a.createElement("br",null),r.a.createElement("br",null),"Faccility providers can login to thier to the account and can have thier customers details."),r.a.createElement("div",{className:"display"},r.a.createElement("div",{className:"view"},r.a.createElement(s.b,{to:"/customer/form"},r.a.createElement(u.a,{primary:!0,className:" btn-large "},"For Customers"))),r.a.createElement("div",{className:"view"},r.a.createElement(s.b,{to:e?"/provider/getcustomers":"/provider/signin"},r.a.createElement(u.a,{primary:!0,className:"btn-large "},"For Facility Providers")))))},f=t(380),y=t(384),w=t(85),N=t.n(w);t(337);var S=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[s,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(""),[p,E]=Object(n.useState)(""),[v,h]=Object(n.useState)(""),[b,g]=Object(n.useState)(!1),[w,S]=Object(n.useState)(!0),[O,j]=Object(n.useState)(!1),C=["Restaurant","Hotel","Spa","Saloon"],I=Object(i.e)();return Object(n.useEffect)(()=>{e&&t&&c&&p&&S(!1)},[e,t,c,p]),r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:" 20px 0px"}},"Facility Booking Form"),r.a.createElement(f.a,{onSubmit:a=>{a.preventDefault();(async e=>{try{h(""),j(!0),await N.a.post("/api/v1/user",e),j(!1),I.push("/customer/thanks")}catch(a){h(a.message),j(!1)}})({name:e,mobileNumber:t,email:c,address:u,phoneNumber:s,facility:p.toLowerCase()})},error:!!v},r.a.createElement(f.a.Group,{widths:"equal"},r.a.createElement(f.a.Input,{fluid:!0,label:"Name",placeholder:"Enter your name",required:!0,value:e,onChange:e=>a(e.target.value)}),r.a.createElement(f.a.Input,{fluid:!0,label:"Mobile number",placeholder:"Enter your mobile number",required:!0,value:t,onChange:e=>l(e.target.value)})),r.a.createElement(f.a.Group,{widths:"equal"},r.a.createElement(f.a.Input,{fluid:!0,label:"Email",placeholder:"Enter your email",type:"email",required:!0,value:c,onChange:e=>o(e.target.value)}),r.a.createElement(f.a.Input,{fluid:!0,label:"Phone number",placeholder:"Enter your phone number",value:s,onChange:e=>m(e.target.value)})),r.a.createElement(f.a.TextArea,{label:"Address",placeholder:"Enter your address",value:u,onChange:e=>d(e.target.value)}),r.a.createElement("div",{className:"facility-label"},"Available Facilities ",r.a.createElement("span",{className:"required"},"*")," "),r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:()=>g(!b),className:"dropdown-label ".concat(p?"":"default")},p||"Select Facility"),b&&r.a.createElement("div",{className:"dropdown-body"},null===C||void 0===C?void 0:C.map((e,a)=>r.a.createElement("div",{key:a,onClick:()=>{E(e),g(!1)},className:"dropdown-item"},e)))),r.a.createElement("div",null),r.a.createElement(y.a,{error:!0,header:"Oops!",content:v}),r.a.createElement(f.a.Button,{loading:O,disabled:w,floated:"right",primary:!0},"Submit")))};t(354);var O=e=>{let{handleChange:a,label:t,...n}=e;return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:a},n)),t?r.a.createElement("label",null,t):null)};t(355);var j=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),m=Object(i.e)();return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h5",{className:"title"},"Sign in with your email and password"),r.a.createElement(f.a,{error:!!c,onSubmit:async n=>{n.preventDefault();try{await v.signInWithEmailAndPassword(e,t),a(""),l(""),m.push("/provider/getcustomers")}catch(r){o(r.message)}}},r.a.createElement(O,{name:"email",type:"email",handleChange:e=>a(e.target.value),value:e,label:"Email",required:!0}),r.a.createElement(O,{name:"password",type:"password",value:t,handleChange:e=>l(e.target.value),label:"Password",required:!0}),r.a.createElement(y.a,{error:!0,header:"Oops!",content:c}),r.a.createElement("div",{className:"buttons"},r.a.createElement(u.a,{positive:!0,type:"submit"},"Sign in"))),r.a.createElement(s.b,{to:"/provider/signup"},r.a.createElement("h6",{style:{marginTop:"10%"}},"I do not have a account")))};t(356);var C=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[m,d]=Object(n.useState)(""),[p,h]=Object(n.useState)(""),b=Object(i.e)();return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h5",{className:"title"},"Sign up with your email and password"),r.a.createElement(f.a,{error:!!p,className:"sign-up-form",onSubmit:async n=>{if(n.preventDefault(),c===m)try{const{user:n}=await v.createUserWithEmailAndPassword(t,c);await E(n,{displayName:e}),a(""),l(""),o(""),d(""),b.push("/provider/getcustomers")}catch(r){h(r.message)}else alert("passwords don't match")}},r.a.createElement(O,{type:"text",name:"displayName",value:e,onChange:e=>a(e.target.value),label:"Display Name",required:!0}),r.a.createElement(O,{type:"email",name:"email",value:t,onChange:e=>l(e.target.value),label:"Email",required:!0}),r.a.createElement(O,{type:"password",name:"password",value:c,onChange:e=>o(e.target.value),label:"Password",required:!0}),r.a.createElement(O,{type:"password",name:"confirmPassword",value:m,onChange:e=>d(e.target.value),label:"Confirm Password",required:!0}),r.a.createElement(y.a,{error:!0,header:"Oops!",content:p}),r.a.createElement(u.a,{positive:!0,type:"submit"},"SIGN UP")),r.a.createElement(s.b,{to:"/provider/signin"},r.a.createElement("h6",{className:"bottomRoute"},"I already have an account")))};t(357);var I=()=>r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"sub"},r.a.createElement("h3",null,"Thanks for your time to fill up the form.")),r.a.createElement("div",{className:"sub"},r.a.createElement("h3",null,"Our facility providers will contact you soon.")),r.a.createElement("div",{className:"view"},r.a.createElement(s.b,{to:"/"},r.a.createElement(u.a,{positive:!0},"Go To Home")))),k=t(382),x=t(383);var P=e=>{let{facility:a}=e;const[t,l]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async e=>{try{const a=await N.a.get("/api/v1/user/".concat(e));l(a.data)}catch(a){console.log(a)}})(a)},[a]);const c=()=>{switch(t.length){case 0:return r.a.createElement("h4",null,"There are no customers right now for ",a);default:return t.map(e=>r.a.createElement("div",{className:"view",key:e._id},r.a.createElement(x.a,null,r.a.createElement(x.a.Item,{icon:"user",content:e.name}),r.a.createElement(x.a.Item,{icon:"phone",content:e.mobileNumber}),r.a.createElement(x.a.Item,{icon:"mail",content:e.email}),r.a.createElement(x.a.Item,{icon:"marker",content:e.address}))))}};return r.a.createElement("div",null," ",(()=>{switch(t){case null:return r.a.createElement("h4",null,"Loading...");default:return c()}})()," ")};var q=()=>{const e=Object(i.e)(),a=[{menuItem:"Restaurants",render:()=>r.a.createElement(k.a.Pane,null,r.a.createElement(P,{facility:"restaurant"}))},{menuItem:"Spa",render:()=>r.a.createElement(k.a.Pane,null,r.a.createElement(P,{facility:"spa"}))},{menuItem:"Saloon",render:()=>r.a.createElement(k.a.Pane,null,r.a.createElement(P,{facility:"saloon"}))},{menuItem:"Hotels",render:()=>r.a.createElement(k.a.Pane,null,r.a.createElement(P,{facility:"hotel"}))}];return r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"20px 0px"}},"Customers for different facilities"),r.a.createElement(k.a,{panes:a}),r.a.createElement("div",{className:"fixed-action-btn ",style:{top:0,right:"10px"}},r.a.createElement(u.a,{onClick:()=>{v.signOut(),e.push("/")},negative:!0},"Sign Out")))};var A=()=>r.a.createElement(o.a,null,r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(i.a,{exact:!0,path:"/",component:g}),r.a.createElement(i.a,{exact:!0,path:"/provider/signin",component:j}),r.a.createElement(i.a,{exact:!0,path:"/provider/signup",component:C}),r.a.createElement(i.a,{exact:!0,path:"/provider/getcustomers",component:q}),r.a.createElement(i.a,{exact:!0,path:"/customer/form",component:S}),r.a.createElement(i.a,{exact:!0,path:"/customer/thanks",component:I}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(370);c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[201,1,2]]]);
//# sourceMappingURL=main.3f8c60d2.chunk.js.map