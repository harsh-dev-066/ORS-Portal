(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{258:function(e,a,t){e.exports=t(457)},265:function(e,a,t){},275:function(e,a,t){},444:function(e,a,t){},445:function(e,a,t){},446:function(e,a,t){},447:function(e,a,t){},456:function(e,a,t){},457:function(e,a,t){"use strict";t.r(a);t(259),t(260);var n=t(0),r=t.n(n),l=t(55),c=t.n(l),o=t(465),i=t(23),s=t(16);t(265);var m=()=>r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper light-blue darken-4"},r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{className:"name",style:{cursor:"pointer"}},"Facility Booking"))))),u=t(472),p=t(68),d=t.n(p);t(270),t(272);d.a.initializeApp({apiKey:"AIzaSyBABKTeRJvjNobw2HYiPpnbn5zfvA4Tl9k",authDomain:"online-reservation-portal.firebaseapp.com",databaseURL:"https://online-reservation-portal.firebaseio.com",projectId:"online-reservation-portal",storageBucket:"online-reservation-portal.appspot.com",messagingSenderId:"883504950560",appId:"1:883504950560:web:111fa770864f1da58a7b45",measurementId:"G-LZBX5LY3K4"});const E=async(e,a)=>{if(!e)return;const t=v.doc("users/".concat(e.uid));if(!(await t.get()).exists){const{displayName:r,email:l}=e,c=new Date;try{await t.set({displayName:r,email:l,createdAt:c,...a})}catch(n){console.log("error creating user",n.message)}}return t},h=d.a.auth(),v=d.a.firestore(),g=new d.a.auth.GoogleAuthProvider;g.setCustomParameters({prompt:"select_account"});d.a,t(275);var b=()=>{const[e,a]=Object(n.useState)(null);let t=null;return Object(n.useEffect)(()=>{t=h.onAuthStateChanged(async e=>{e&&(await E(e)).onSnapshot(e=>{a({id:e.id,...e.data()})}),a(e)})},[]),Object(n.useEffect)(()=>()=>t(),[]),console.log(e),r.a.createElement("div",null,r.a.createElement("div",{className:"text"},"Facility Booking is an online reservation portal for customers who wants different facilities and the providers who are looking for customers.",r.a.createElement("br",null),r.a.createElement("br",null),"Customers can fill up the form and mention that which type of facility they are looking for as we provide facilites.",r.a.createElement("br",null),r.a.createElement("br",null),"Faccility providers can login to thier to the account and can have thier customers details."),r.a.createElement("div",{className:"display"},r.a.createElement("div",{className:"view"},r.a.createElement(i.b,{to:"/customer/form"},r.a.createElement(u.a,{primary:!0,className:" btn-large "},"For Customers"))),r.a.createElement("div",{className:"view"},r.a.createElement(i.b,{to:e?"/provider/getcustomers":"/provider/signin"},r.a.createElement(u.a,{primary:!0,className:"btn-large "},"For Facility Providers")))))},f=t(466),y=t(471),w=t(467),N=t(107),S=t.n(N);var O=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[p,d]=Object(n.useState)(""),[E,h]=Object(n.useState)(""),[v,g]=Object(n.useState)(""),[b,N]=Object(n.useState)(!1),O=Object(s.e)();return r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:" 20px 0px"}},"Facility Booking Form"),r.a.createElement(f.a,{onSubmit:a=>{a.preventDefault();(async e=>{try{g(""),await S.a.post("/api/v1/user",e),O.push("/customer/thanks")}catch(a){g(a.message)}})({name:e,mobileNumber:t,email:c,address:p,phoneNumber:i,facility:E.toLowerCase()})},error:!!v},r.a.createElement(f.a.Group,{widths:"equal"},r.a.createElement(f.a.Input,{fluid:!0,label:"Name",placeholder:"Enter your name",required:!0,value:e,onChange:e=>a(e.target.value)}),r.a.createElement(f.a.Input,{fluid:!0,label:"Mobile number",placeholder:"Enter your mobile number",required:!0,value:t,onChange:e=>l(e.target.value)})),r.a.createElement(f.a.Group,{widths:"equal"},r.a.createElement(f.a.Input,{fluid:!0,label:"Email",placeholder:"Enter your email",type:"email",required:!0,value:c,onChange:e=>o(e.target.value)}),r.a.createElement(f.a.Input,{fluid:!0,label:"Phone number",placeholder:"Enter your phone number",value:i,onChange:e=>m(e.target.value)})),r.a.createElement(f.a.TextArea,{label:"Address",placeholder:"Enter your address",value:p,onChange:e=>d(e.target.value)}),r.a.createElement(f.a.Input,{fluid:!0,label:"Facilities",placeholder:"What type of facility you are looking for...",value:E,onChange:e=>h(e.target.value)}),r.a.createElement(y.a,{error:!0,header:"Oops!",content:v}),r.a.createElement(f.a.Button,{floated:"right",primary:!0},"Submit")),r.a.createElement("div",{style:{margin:" 20px 0px"}},r.a.createElement("h5",null,"Please Check available facilities first"),r.a.createElement(w.a,{open:b,className:"container",trigger:r.a.createElement(u.a,{onClick:(j=!1,C=!0,()=>{N({closeOnEscape:j,closeOnDimmerClick:C,open:!0})}),secondary:!0},"Available Facilities")},r.a.createElement(w.a.Header,null,"Available Facilities"),r.a.createElement(w.a.Content,{scrolling:!0},r.a.createElement(w.a.Description,null,r.a.createElement("b",null,"This are the available facilities for now please chose any one for your need."),r.a.createElement("h5",null,r.a.createElement("div",{style:{margin:"5px"}},"1. Restaurant"),r.a.createElement("div",{style:{margin:"5px"}},"2. Spa"),r.a.createElement("div",{style:{margin:"5px"}},"3. Saloon"),r.a.createElement("div",{style:{margin:"5px"}},"4. Hotel")))),r.a.createElement(w.a.Actions,null,r.a.createElement(u.a,{positive:!0,onClick:()=>{N(!1)}},"Done")))));var j,C};t(444);var j=e=>{let{handleChange:a,label:t,...n}=e;return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:a},n)),t?r.a.createElement("label",null,t):null)};t(445);var C=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),m=Object(s.e)();return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h5",{className:"title"},"Sign in with your email and password"),r.a.createElement(f.a,{error:!!c,onSubmit:async n=>{n.preventDefault();try{await h.signInWithEmailAndPassword(e,t),a(""),l(""),m.push("/provider/getcustomers")}catch(r){o(r.message)}}},r.a.createElement(j,{name:"email",type:"email",handleChange:e=>a(e.target.value),value:e,label:"Email",required:!0}),r.a.createElement(j,{name:"password",type:"password",value:t,handleChange:e=>l(e.target.value),label:"Password",required:!0}),r.a.createElement(y.a,{error:!0,header:"Oops!",content:c}),r.a.createElement("div",{className:"buttons"},r.a.createElement(u.a,{positive:!0,type:"submit"},"Sign in"))),r.a.createElement(i.b,{to:"/provider/signup"},r.a.createElement("h6",{style:{marginTop:"10%"}},"I do not have a account")))};t(446);var k=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[m,p]=Object(n.useState)(""),[d,v]=Object(n.useState)(""),g=Object(s.e)();return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h5",{className:"title"},"Sign up with your email and password"),r.a.createElement(f.a,{error:!!d,className:"sign-up-form",onSubmit:async n=>{if(n.preventDefault(),c===m)try{const{user:n}=await h.createUserWithEmailAndPassword(t,c);await E(n,{displayName:e}),a(""),l(""),o(""),p(""),g.push("/provider/getcustomers")}catch(r){v(r.message)}else alert("passwords don't match")}},r.a.createElement(j,{type:"text",name:"displayName",value:e,onChange:e=>a(e.target.value),label:"Display Name",required:!0}),r.a.createElement(j,{type:"email",name:"email",value:t,onChange:e=>l(e.target.value),label:"Email",required:!0}),r.a.createElement(j,{type:"password",name:"password",value:c,onChange:e=>o(e.target.value),label:"Password",required:!0}),r.a.createElement(j,{type:"password",name:"confirmPassword",value:m,onChange:e=>p(e.target.value),label:"Confirm Password",required:!0}),r.a.createElement(y.a,{error:!0,header:"Oops!",content:d}),r.a.createElement(u.a,{positive:!0,type:"submit"},"SIGN UP")),r.a.createElement(i.b,{to:"/provider/signin"},r.a.createElement("h6",{className:"bottomRoute"},"I already have an account")))};t(447);var x=()=>r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"sub"},r.a.createElement("h3",null,"Thanks for your time to fill up the form.")),r.a.createElement("div",{className:"sub"},r.a.createElement("h3",null,"Our facility providers will contact you soon.")),r.a.createElement("div",{className:"view"},r.a.createElement(i.b,{to:"/"},r.a.createElement(u.a,{positive:!0},"Go To Home")))),I=t(469),P=t(470);var A=e=>{let{facility:a}=e;const[t,l]=Object(n.useState)(null);Object(n.useEffect)(()=>{(async e=>{try{const a=await S.a.get("/api/v1/user/".concat(e));l(a.data)}catch(a){console.log(a)}})(a)},[a]);const c=()=>{switch(t.length){case 0:return r.a.createElement("h4",null,"There are no customers right now for ",a);default:return t.map(e=>r.a.createElement("div",{className:"view",key:e._id},r.a.createElement(P.a,null,r.a.createElement(P.a.Item,{icon:"user",content:e.name}),r.a.createElement(P.a.Item,{icon:"phone",content:e.mobileNumber}),r.a.createElement(P.a.Item,{icon:"mail",content:e.email}),r.a.createElement(P.a.Item,{icon:"marker",content:e.address}))))}};return r.a.createElement("div",null," ",(()=>{switch(t){case null:return r.a.createElement("h4",null,"Loading...");default:return c()}})()," ")};var q=()=>{const e=Object(s.e)(),a=[{menuItem:"Restaurants",render:()=>r.a.createElement(I.a.Pane,null,r.a.createElement(A,{facility:"restaurant"}))},{menuItem:"Spa",render:()=>r.a.createElement(I.a.Pane,null,r.a.createElement(A,{facility:"spa"}))},{menuItem:"Saloon",render:()=>r.a.createElement(I.a.Pane,null,r.a.createElement(A,{facility:"saloon"}))},{menuItem:"Hotels",render:()=>r.a.createElement(I.a.Pane,null,r.a.createElement(A,{facility:"hotel"}))}];return r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"20px 0px"}},"Customers for different facilities"),r.a.createElement(I.a,{panes:a}),r.a.createElement("div",{className:"fixed-action-btn ",style:{top:0,right:"10px"}},r.a.createElement(u.a,{onClick:()=>{h.signOut(),e.push("/")},negative:!0},"Sign Out")))};var F=()=>r.a.createElement(o.a,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(s.a,{exact:!0,path:"/",component:b}),r.a.createElement(s.a,{exact:!0,path:"/provider/signin",component:C}),r.a.createElement(s.a,{exact:!0,path:"/provider/signup",component:k}),r.a.createElement(s.a,{exact:!0,path:"/provider/getcustomers",component:q}),r.a.createElement(s.a,{exact:!0,path:"/customer/form",component:O}),r.a.createElement(s.a,{exact:!0,path:"/customer/thanks",component:x}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(456);c.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[258,1,2]]]);
//# sourceMappingURL=main.f25cbd24.chunk.js.map